<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Sexual Violence in Mexico City</title>
   	<script src="https://d3js.org/d3.v4.min.js"></script>
   	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"></script>
    <style>

		p {
			font-family: 'Open Sans', sans-serif;
			color:#FFFFFF;
			font-weight:300;
		}

		svg {
			width:100%;
			height:600px;
			padding-left:5%;
			padding-right:50px;
		}

		h1 {
			font-size:60px;
			font-weight:200;
			line-height:1.3;
      color:#F81894;
		}
    h2 {
			font-size:15px;
			font-weight:300;
			line-height:1.3;
      color:#F81894;
		}

    hr{
       border-color: #FFFFFF;
       background-color:  #FFFFFF;
       color: #FFFFFF;
      }

    #Wireframe01, #Wireframe02, #Wireframe03 {
      position: -webkit-sticky;
      position: sticky;
      top: -1px;
    }
    .text1opacity, .text2opacity, .text7opacity, .text8opacity {
      font-size:30px;
      fill:blue;
      opacity:0;
      transition: opacity 0.8s;
      -webkit-transition: opacity 0.8s;
    }
    .text3opacity, .text4opacity, .text5opacity, .text6opacity {
      font-size:30px;
      fill:white;
      color:#F81894;
      opacity:0;
      transition: opacity 0.8s;
      -webkit-transition: opacity 0.8s;
    }
      .active {
          opacity:1;
      }
      .deactivate {
          opacity:0;
      }

	</style>
</head>
<body style="background-color:#2B2D2F;">
  <main role="main" class="container" >
     <div class="row">
     	<div class="col-12">
     		<br><br>
     		<h1>Sexual Violence in Mexico City</h1>
        <h2>Project by: Grace Bryant, Yu Jing Chen and Maria Lucia Morelli </h2>
     		<hr>

       	<div class="col-12">
             <p>“For millions of women and girls around the world, any possibility of exercising the right to the city is curtailed by their restricted access to public spaces” because in public spaces there is “always the threat and reality of verbal and non-verbal sexual harassment and assault” (Khosla and Dhar, 2013, p. 119).</p>
      <img src="protest.png" alt="Wireframe" width="900" height="500">
           </div>

        <div class="col-12">
           <br> <br>
       <p>In 2017, the Thomas Reuters Foundation published a poll portraying Mexico City as the 4th most dangerous city for women regarding sexual violence, which was defined as “rape or sexual attacks and harassment.” In 2019 alone, there were 1006 instances of feminicide.</p>
       <p>Street harassment is difficult to quantify especially because women under report these incidents. There is not much incentive to do so. However, it is this data that influences policies and municipal budget allocation.</p>

     <div class="row">
       <div class="col-4">
         <br><br>
         <p id = text1> Our project attempts to visualize reports of sexual harrasment, abuse and rape in Mexico City in 2019 to make this data more accesible to politicians, feminist movements and citizens in general.</p>
         <br><br>
         <p> The wireframe on the right shows how our landing page would look like. The number of reports on each of the three categories of abuse, harrasment and rape will show in big fonts at the top right corner while acting as a color legend as well. </p>
         <br><br>
         <p id= text2> We aggregate the data by gender, age, month and time. </p>
         <br><br>
         <p id=text3> The gender page shows how this is a problem that women face much more than men. </p>
         <br><br>
         <p id=text4> It will be interesting finding age patterns on this page.</p>
         <br><br>
         <p id=text5> The month page seeks to find if there are months were sexual abuse increments.</p>
         <br><br>
         <p id=text6> The time page seeks to contrast how women experience the city during daylight vs at night.</p>
         <br><br>
         <p id=text7> Additionally, the data can be either visualized with geopoints of the reports on the map or through aggragated diagrams. </p>
         <br><br>
         <p id=text7> The number of reports per category will be displayed again on the top right using the colors as legend. The map can be zoomed in and out. </p>
         <br><br>
         <br><br>
         <p id=text8> The diagram pages will have strong but minimalistic visuals using the same color coding. Different designs will use depending on the category that is being displayed.</p>

       </div>
       <div class="col-8">
         <div>
         <br><br>
         <img id= Wireframe01 class = text1opacity src="Wireframe01.png" alt="Wireframe" width="450" height="334.5">
         </div>
         <br><br>
         <br><br>
         <div >
                <br><br>
                <br><br>
                <p class="text3opacity"> GENDER </p>
                <br><br>
                <br><br>
                <p class="text4opacity"> AGE </p>
                <br><br>
                <p class="text5opacity"> MONTH </p>
                <br><br>
                <br><br>
                <p class="text6opacity"> TIME </p>
         </div>
         <div>
         <br><br>
         <img class = text7opacity src="Wireframe02.png" alt="Wireframe" width="450" height="334.5">
         </div>
         <br><br>
         <img class = text8opacity src="Wireframe03.png" alt="Wireframe" width="450" height="334.5">
         </div>


     </div>
  </main><!-- /.container -->
</body>

<script type="text/javascript">

var controller = new ScrollMagic.Controller();
  new ScrollMagic.Scene({triggerElement: "#text1"})
    .setClassToggle(".text1opacity", "active")
    .addTo(controller);

  new ScrollMagic.Scene({triggerElement: "#text2"})
    .setClassToggle(".text2opacity", "active")
    .addTo(controller);
  new ScrollMagic.Scene({triggerElement: "#text3"})
    .setClassToggle(".text3opacity", "active")
    .addTo(controller);
  new ScrollMagic.Scene({triggerElement: "#text4"})
    .setClassToggle(".text4opacity", "active")
    .addTo(controller);
  new ScrollMagic.Scene({triggerElement: "#text5"})
      .setClassToggle(".text5opacity", "active")
      .addTo(controller);
  new ScrollMagic.Scene({triggerElement: "#text6"})
        .setClassToggle(".text6opacity", "active")
        .addTo(controller);
  new ScrollMagic.Scene({triggerElement: "#text7"})
        .setClassToggle(".text7opacity", "active")
        .addTo(controller);
  new ScrollMagic.Scene({triggerElement: "#text8"})
        .setClassToggle(".text8opacity", "active")
        .addTo(controller);


var svg = d3.select("div#firstvisualdiv")
						.append("svg")
						.attr("viewBox", "0 0 1200 800")
  						.attr("preserveAspectRatio", "xMinYMid")

var rectangles = [[200, 0, 800, 600, "gray"],[260, 50, 200, 500, "lightgray"],[500, 50, 430, 500, "lightgray"]];

			svg.selectAll("rect")
			   .data(rectangles)
			   .enter()
			   .append("rect")
			   .attr("stroke", "black")
			   .attr("stroke-width", 1)
			   .attr("x", function(d) {
			   		return d[0];})
			   .attr("y", function(d) {
			   		return d[1];})
			   .attr("width", function(d) {
			   		return d[2];})
			   .attr("height", function(d) {
			   		return d[3];})
			   .attr("fill", function(d) {
			   		if (d[4]== "gray")
			   			return "gray";
			   		else
			   			return "#bdbdbd";})


			    svg.append("text")
    			.attr("x", 360)
    			.attr("y", 150)
    			.attr("text-anchor", "middle")
    			.text("text column")
    			.attr("class", "text1opacity")

    			svg.append("text")
    			.attr("x", 360)
    			.attr("y", 200)
    			.attr("text-anchor", "middle")
    			.text("class='col-4'")
    			.attr("class", "text1opacity")

    			svg.append("text")
    			.attr("x", 710)
    			.attr("y", 150)
    			.attr("text-anchor", "middle")
    			.text("visuals column")
    			.attr("class", "text2opacity")

				svg.append("text")
    			.attr("x", 710)
    			.attr("y", 200)
    			.attr("text-anchor", "middle")
    			.text("class='col-8'")
    			.attr("class", "text2opacity")


var svg = d3.select("div#secondvisualdiv")
						.append("svg")
						.attr("viewBox", "0 0 1200 800")
  						.attr("preserveAspectRatio", "xMinYMid")

var rectangles = [[200, 00, 800, 750, "gray"],[260, 50, 200, 80, "lightgray"],[260, 150, 200, 80, "lightgray"],[260, 250, 200, 80, "lightgray"],[260, 350, 200, 80, "lightgray"],[260, 450, 200, 80, "lightgray"],[260, 550, 200, 80, "lightgray"],[260, 650, 200, 80, "lightgray"],[500, 50, 430, 350, "lightgray"],[500, 450, 430, 280, "lightgray"]];

			svg.selectAll("rect")
			   .data(rectangles)
			   .enter()
			   .append("rect")
			   .attr("stroke", "black")
			   .attr("stroke-width", 1)
			   .attr("x", function(d) {
			   		return d[0];})
			   .attr("y", function(d) {
			   		return d[1];})
			   .attr("width", function(d) {
			   		return d[2];})
			   .attr("height", function(d) {
			   		return d[3];})
			   .attr("fill", function(d) {
			   		if (d[4]== "gray")
			   			return "gray";
			   		else
			   			return "#bdbdbd";})

			svg.append("text")
    			.attr("x", 350)
    			.attr("y", 100)
    			.attr("text-anchor", "middle")
    			.text("ID='text1'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 350)
    			.attr("y", 200)
    			.attr("text-anchor", "middle")
    			.text("ID='text2'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 350)
    			.attr("y", 300)
    			.attr("text-anchor", "middle")
    			.text("ID='text3'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 350)
    			.attr("y", 400)
    			.attr("text-anchor", "middle")
    			.text("ID='text4'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 350)
    			.attr("y", 500)
    			.attr("text-anchor", "middle")
    			.text("ID='text5'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 350)
    			.attr("y", 600)
    			.attr("text-anchor", "middle")
    			.text("ID='text6'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 350)
    			.attr("y", 700)
    			.attr("text-anchor", "middle")
    			.text("ID='text7'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 700)
    			.attr("y", 200)
    			.attr("text-anchor", "middle")
    			.text("ID='firstvisualdiv'")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 700)
    			.attr("y", 580)
    			.attr("text-anchor", "middle")
    			.text("ID='secondvisualdiv'")
    			.attr("class", "text3opacity")


    		svg.append("text")
    			.attr("x", 700)
    			.attr("y", 250)
    			.attr("text-anchor", "middle")
    			.text("position: sticky")
    			.attr("class", "text3opacity")

    		svg.append("text")
    			.attr("x", 700)
    			.attr("y", 630)
    			.attr("text-anchor", "middle")
    			.text("position: sticky")
    			.attr("class", "text3opacity")


</script>
</body>
</html>
